# ==============================================================================
# HL-OS 环境变量配置模板
# ==============================================================================
# 使用说明：
# 1. 复制本文件为 .env: cp .env.example .env
# 2. 填入你的API密钥和配置
# 3. 不要将 .env 文件提交到版本控制
# ==============================================================================

# ==============================================================================
# 应用配置
# ==============================================================================
ENVIRONMENT=development
DEBUG=false
LOG_LEVEL=INFO

# ==============================================================================
# 服务器配置
# ==============================================================================
BACKEND_HOST=0.0.0.0
BACKEND_PORT=8000
FRONTEND_PORT=8501

# ==============================================================================
# 安全配置
# ==============================================================================
# 生成密钥: python -c "import secrets; print(secrets.token_urlsafe(32))"
SECRET_KEY=your-secret-key-change-this-in-production
ALLOWED_ORIGINS=http://localhost:8501,http://localhost:3000
API_KEY_HEADER=X-API-Key
PARENT_API_KEY=

# ==============================================================================
# 外部API密钥（必填）
# ==============================================================================
# Google AI Studio API密钥
# 获取地址: https://makersuite.google.com/app/apikey
GOOGLE_AI_STUDIO_API_KEY=your-google-ai-studio-api-key

# Anthropic API密钥
# 获取地址: https://console.anthropic.com/
ANTHROPIC_API_KEY=your-anthropic-api-key

# ==============================================================================
# AI模型配置
# ==============================================================================
# Gemini 3 Pro Preview（用于OCR和视觉识别）
# 模型详情: https://ai.google.dev/gemini-api/docs/gemini-3
GEMINI_MODEL=gemini-3-pro-preview-11-2025

# Claude Sonnet 4.5（用于教学内容生成和自动批改）
# 模型详情: https://www.anthropic.com/news/claude-sonnet-4-5
CLAUDE_MODEL_TEACHING=claude-sonnet-4-5-20250929
CLAUDE_MODEL_GRADING=claude-sonnet-4-5-20250929

# ==============================================================================
# AnythingLLM配置
# ==============================================================================
ANYTHINGLLM_URL=http://anythingllm:3001
ANYTHINGLLM_API_KEY=

# AnythingLLM内部配置
VECTOR_DB=lancedb
LLM_PROVIDER=generic-openai
GENERIC_OPEN_AI_BASE_PATH=https://api.anthropic.com/v1
GENERIC_OPEN_AI_MODEL_PREF=claude-sonnet-4-5-20250929
EMBEDDING_ENGINE=native
EMBEDDING_MODEL_PREF=nomic-embed-text

# ==============================================================================
# Obsidian配置
# ==============================================================================
OBSIDIAN_VAULT_PATH=/app/obsidian_vault

# ==============================================================================
# 文件存储配置
# ==============================================================================
UPLOAD_DIR=/app/uploads
MAX_UPLOAD_SIZE=10485760
ALLOWED_IMAGE_TYPES=image/jpeg,image/png,image/jpg

# ==============================================================================
# 数据库配置
# ==============================================================================
DATABASE_URL=sqlite:///./hlos.db

# ==============================================================================
# Redis配置
# ==============================================================================
REDIS_URL=redis://redis:6379/0

# ==============================================================================
# 备份配置
# ==============================================================================
BACKUP_ENABLED=true
BACKUP_SCHEDULE=0 2 * * *
BACKUP_RETENTION_DAYS=30
BACKUP_DESTINATION=/backups

# ==============================================================================
# 速率限制配置
# ==============================================================================
RATE_LIMIT_ENABLED=true
GEMINI_RPM=50
CLAUDE_RPM=40
